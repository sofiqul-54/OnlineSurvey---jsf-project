<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c ="http://java.sun.com/jsp/jstl/core">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <link rel="stylesheet" href="styles.css" />
        <title>Add Topic</title>
    </h:head>
    <h:body>
        <f:view>
            <h:form  id="addQuestionForm">
                <div class="header">Survey Admin </div>
                <table  style="width:100%;height:600px">
                    <tr>
                        <td class="menu">
                            <h4>User  : ${sessionScope.uname}</h4>
                            <h:commandLink value="Log out" action="#{loginBean.logout()}"/>
                            <p/>
                            &nbsp;
                            <p/>
                            <a href="home.xhtml">Home</a>
                            <p/>
                            <a href="home.xhtml">List Topics</a>
                            <p/>
                            <a href="addtopic.xhtml">Add New Topic</a>
                        </td>
                        <td style="vertical-align: top">
                            <h2>Add Question</h2>
                            <table>
                                <tr>
                                    <td>Question Text :</td>
                                    <td>
                                        <h:inputText id="text" value="#{question.text}" required="true" style="width:350px" requiredMessage="Question text is requierd!" />
                                        <h:message  for="text"/>
                                    </td>
                                </tr>

                                <tr>
                                    <td>Option 1 :</td>
                                    <td>
                                        <h:inputText id="opt1" value="#{question.opt1}" required="true" style="width:150px"   requiredMessage="Option 1 is requierd!" />
                                        <h:message  for="opt1"/>
                                    </td>
                                </tr>


                                <tr>
                                    <td>Option 2 :</td>
                                    <td>
                                        <h:inputText id="opt2" value="#{question.opt2}" required="true" style="width:150px"  requiredMessage="Option 2 is requierd!"  />
                                        <h:message  for="opt2"/>
                                    </td>
                                </tr>

                                <tr>
                                    <td>Option 3 :</td>
                                    <td>
                                        <h:inputText id="opt3" value="#{question.opt3}" required="true" style="width:150px"  requiredMessage="Option 3 is requierd!"  />
                                        <h:message  for="opt3"/>
                                    </td>
                                </tr>
                            </table>
                            <p/>
                            <h:commandButton actionListener="#{question.add}" value="Add Question"/>
                            <p/>
                            <h3><h:outputText value="#{question.message}"/> </h3>
                        </td>
                    </tr>
                </table>
            </h:form>
            <c:if test="${ !empty param.topicid}">
            <c:set scope="session"
                   var="topicid"
                   value="${param.topicid}"/>
            </c:if> 
<!--            <%
               if ( request.getParameter("topicid") != null)
                         session.setAttribute("topicid", request.getParameter("topicid"));
            %>-->
        </f:view>
    </h:body>
</html>

